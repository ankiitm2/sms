{% extends 'Home/base.html' %}
{% load static %}
{% block body %}

<div class="page-wrapper">
    <div class="content container-fluid">
        <!-- Animated Welcome Header -->
        <div class="page-header animate__animated animate__fadeIn">
            <div class="row align-items-center">
                <div class="col">
                    <h3 class="page-title">Welcome back, <span class="text-primary">{{ user.first_name }}</span>!</h3>
                    <p class="text-muted mb-0">Here's your learning overview for today</p>
                </div>
                <!-- <div class="col-auto">
                    <div class="avatar avatar-lg hover-scale">
                        <img src="{% static 'assets/img/profiles/avatar-02.jpg' %}" alt="User Image" class="avatar-img rounded-circle border-primary">
                    </div>
                </div> -->
            </div>
        </div>

        <!-- Animated Stats Cards -->
        <div class="row">
            <div class="col-xl-3 col-sm-6 col-12 mb-4">
                <div class="card stat-card animate__animated animate__fadeInUp" data-animation-delay="0.1s">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="stat-icon bg-primary-light hover-shake">
                                <i class="fas fa-book-open text-primary"></i>
                            </div>
                            <div class="ml-auto">
                                <span class="stat-badge badge-success pulse">+2.5%</span>
                            </div>
                        </div>
                        <h5 class="stat-title">Courses</h5>
                        <div class="d-flex align-items-center">
                            <h2 class="stat-num counter" data-count="4">0</h2>
                            <span class="stat-text ml-2">/ 06 enrolled</span>
                        </div>
                        <div class="progress mt-2" style="height: 6px;">
                            <div class="progress-bar bg-primary progress-bar-striped progress-bar-animated" role="progressbar" style="width: 66%;" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="card-floating-icon hover-bounce">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6 col-12 mb-4">
                <div class="card stat-card animate__animated animate__fadeInUp" data-animation-delay="0.2s">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="stat-icon bg-warning-light hover-shake">
                                <i class="fas fa-file-alt text-warning"></i>
                            </div>
                            <div class="ml-auto">
                                <span class="stat-badge badge-danger pulse">-1.2%</span>
                            </div>
                        </div>
                        <h5 class="stat-title">Projects</h5>
                        <div class="d-flex align-items-center">
                            <h2 class="stat-num counter" data-count="40">0</h2>
                            <span class="stat-text ml-2">/ 60 completed</span>
                        </div>
                        <div class="progress mt-2" style="height: 6px;">
                            <div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" role="progressbar" style="width: 66%;" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="card-floating-icon hover-bounce">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6 col-12 mb-4">
                <div class="card stat-card animate__animated animate__fadeInUp" data-animation-delay="0.3s">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="stat-icon bg-info-light hover-shake">
                                <i class="fas fa-clipboard-list text-info"></i>
                            </div>
                            <div class="ml-auto">
                                <span class="stat-badge badge-success pulse">+5.7%</span>
                            </div>
                        </div>
                        <h5 class="stat-title">Tests Attended</h5>
                        <div class="d-flex align-items-center">
                            <h2 class="stat-num counter" data-count="30">0</h2>
                            <span class="stat-text ml-2">/ 50 attended</span>
                        </div>
                        <div class="progress mt-2" style="height: 6px;">
                            <div class="progress-bar bg-info progress-bar-striped progress-bar-animated" role="progressbar" style="width: 60%;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="card-floating-icon hover-bounce">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6 col-12 mb-4">
                <div class="card stat-card animate__animated animate__fadeInUp" data-animation-delay="0.4s">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <div class="stat-icon bg-success-light hover-shake">
                                <i class="fas fa-clipboard-check text-success"></i>
                            </div>
                            <div class="ml-auto">
                                <span class="stat-badge badge-success pulse">+8.3%</span>
                            </div>
                        </div>
                        <h5 class="stat-title">Tests Passed</h5>
                        <div class="d-flex align-items-center">
                            <h2 class="stat-num counter" data-count="15">0</h2>
                            <span class="stat-text ml-2">/ 20 passed</span>
                        </div>
                        <div class="progress mt-2" style="height: 6px;">
                            <div class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="card-floating-icon hover-bounce">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Row -->
        <div class="row">
            <!-- Left Column (2/3 width) -->
            <div class="col-lg-8">
                <!-- Today's Classes Card with Glow Effect -->
                <div class="card card-table animate__animated animate__fadeInLeft">
                    <div class="card-header glow-primary">
                        <div class="row align-items-center">
                            <div class="col">
                                <h5 class="card-title">Today's Classes</h5>
                            </div>
                            <div class="col-auto">
                                <a href="{% url 'time_table' %}" class="btn btn-sm btn-outline-primary hover-grow">
                                    View Full Timetable <i class="fas fa-chevron-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        {% if todays_classes %}
                        <div class="table-responsive">
                            <table class="table table-hover table-center mb-0">
                                <thead class="thead-light">
                                    <tr>
                                        <th>Time</th>
                                        <th>Subject</th>
                                        <th>Teacher</th>
                                        <th>Room</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for class in todays_classes %}
                                    <tr class="hover-float">
                                        <td>
                                            <span class="text-primary">{{ class.start_time|time:"H:i" }}</span> - 
                                            <span class="text-primary">{{ class.end_time|time:"H:i" }}</span>
                                        </td>
                                        <td>
                                            <h6 class="mb-0">{{ class.subject }}</h6>
                                            <small class="text-muted">{{ class.subject.code }}</small>
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="avatar avatar-xs mr-2 hover-scale">
                                                    <img class="avatar-img rounded-circle" src="{% static 'assets/img/profiles/avatar-05.jpg' %}" alt="Teacher">
                                                </div>
                                                <span>{{ class.teacher.get_full_name }}</span>
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge badge-pill badge-light">{{ class.classroom }}</span>
                                        </td>
                                        <td>
                                            {% if class.is_active_now %}
                                            <span class="badge badge-pill badge-success pulse">In Progress</span>
                                            {% elif class.is_upcoming %}
                                            <span class="badge badge-pill badge-info">Upcoming</span>
                                            {% else %}
                                            <span class="badge badge-pill badge-secondary">Completed</span>
                                            {% endif %}
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        {% else %}
                        <div class="empty-state hover-shake">
                            <div class="empty-state-icon">
                                <i class="fas fa-calendar-times"></i>
                            </div>
                            <h4>No classes today</h4>
                            <p class="text-muted">You don't have any classes scheduled for today</p>
                            <a href="courses" class="btn btn-primary mt-3 hover-grow">Browse Courses</a>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Upcoming Classes & Exams Row -->
                <div class="row">
                    <div class="col-md-6">
                        <!-- Upcoming Classes Card with Tilt Effect -->
                        <div class="card card-table mt-4 hover-tilt">
                            <div class="card-header">
                                <h5 class="card-title">Upcoming Classes</h5>
                            </div>
                            <div class="card-body">
                                {% if timetable_entries %}
                                <div class="table-responsive">
                                    <table class="table table-hover table-center mb-0">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>Day</th>
                                                <th>Subject</th>
                                                <th>Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for entry in timetable_entries|slice:":3" %}
                                            <tr class="hover-float">
                                                <td>
                                                    <span class="text-primary">{{ entry.day }}</span>
                                                </td>
                                                <td>
                                                    <h6 class="mb-0">{{ entry.subject }}</h6>
                                                </td>
                                                <td>
                                                    {{ entry.start_time|time:"H:i" }} - {{ entry.end_time|time:"H:i" }}
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="{% url 'time_table' %}" class="btn btn-sm btn-link hover-grow">View All <i class="fas fa-chevron-right ml-1"></i></a>
                                </div>
                                {% else %}
                                <div class="empty-state small hover-shake">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <h6>No upcoming classes</h6>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <!-- Upcoming Exams Card with Tilt Effect -->
                        <div class="card card-table mt-4 hover-tilt">
                            <div class="card-header">
                                <h5 class="card-title">Upcoming Exams</h5>
                            </div>
                            <div class="card-body">
                                {% if upcoming_exams %}
                                <div class="table-responsive">
                                    <table class="table table-hover table-center mb-0">
                                        <thead class="thead-light">
                                            <tr>
                                                <th>Date</th>
                                                <th>Exam</th>
                                                <th>Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for exam in upcoming_exams|slice:":3" %}
                                            <tr class="hover-float">
                                                <td>{{ exam.date|date:"M d" }}</td>
                                                <td>
                                                    <h6 class="mb-0">{{ exam.name }}</h6>
                                                    <small class="text-muted">{{ exam.subject }}</small>
                                                </td>
                                                <td>
                                                    {{ exam.start_time|time:"H:i" }}
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="{% url 'exam_list' %}" class="btn btn-sm btn-link hover-grow">View All <i class="fas fa-chevron-right ml-1"></i></a>
                                </div>
                                {% else %}
                                <div class="empty-state small hover-shake">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-clipboard-check"></i>
                                    </div>
                                    <h6>No upcoming exams</h6>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Learning Progress Card with Parallax Effect -->
                <div class="card mt-4 hover-parallax">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h5 class="card-title">Learning Progress</h5>
                            </div>
                            <div class="col-auto">
                                <select class="form-control form-control-sm hover-grow">
                                    <option>This Week</option>
                                    <option>This Month</option>
                                    <option selected>This Semester</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="learning-progress-chart"></div>
                        <div class="row text-center mt-4">
                            <div class="col-4 border-right hover-scale">
                                <h4 class="mb-1 counter" data-count="85">0</h4>
                                <p class="text-muted mb-0">Completion</p>
                            </div>
                            <div class="col-4 border-right hover-scale">
                                <h4 class="mb-1 counter" data-count="32">0</h4>
                                <p class="text-muted mb-0">Lessons</p>
                            </div>
                            <div class="col-4 hover-scale">
                                <h4 class="mb-1 counter" data-count="18">0</h4>
                                <p class="text-muted mb-0">Assignments</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column (1/3 width) -->
            <div class="col-lg-4">
                <!-- Today's Lesson Card with 3D Flip Effect -->
                <div class="card hover-3d">
                    <div class="card-header">
                        <h5 class="card-title">Today's Lesson</h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="lesson-progress mb-4 hover-pulse">
                            <div class="progress-circle" data-value="0.75">
                                <span class="progress-circle-value">75%</span>
                            </div>
                        </div>
                        <h4 class="hover-color-change">Advanced Data Structures</h4>
                        <p class="text-muted">Computer Science 402</p>
                        
                        <div class="lesson-details mt-4">
                            <div class="d-flex justify-content-between mb-2 hover-grow">
                                <span class="text-muted">Time:</span>
                                <span>2:30pm - 3:30pm</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2 hover-grow">
                                <span class="text-muted">Lessons:</span>
                                <span>5/8 completed</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2 hover-grow">
                                <span class="text-muted">Duration:</span>
                                <span>60 minutes</span>
                            </div>
                            <div class="d-flex justify-content-between mb-3 hover-grow">
                                <span class="text-muted">Assignments:</span>
                                <span>3 pending</span>
                            </div>
                        </div>
                        
                        <div class="lesson-actions mt-4">
                            <button class="btn btn-outline-secondary btn-sm mr-2 hover-grow">
                                <i class="fas fa-book-open mr-1"></i> Materials
                            </button>
                            <button class="btn btn-primary btn-sm hover-grow">
                                <i class="fas fa-play mr-1"></i> Continue
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity Card with Wave Effect -->
                <div class="card mt-4 hover-wave">
                    <div class="card-header">
                        <h5 class="card-title">Recent Activity</h5>
                    </div>
                    <div class="card-body">
                        <div class="activity-feed">
                            {% for activity in recent_activities %}
                            <div class="feed-item hover-slide">
                                <div class="feed-item-meta">
                                    <span class="text-muted">{{ activity.time|timesince }} ago</span>
                                    <span class="badge badge-{{ activity.badge_class }} pulse">{{ activity.status }}</span>
                                </div>
                                <h6 class="feed-item-title">{{ activity.title }}</h6>
                                <p class="feed-item-desc text-muted">{{ activity.description }}</p>
                            </div>
                            {% empty %}
                            <div class="empty-state small hover-shake">
                                <div class="empty-state-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                <h6>No recent activity</h6>
                            </div>
                            {% endfor %}
                        </div>
                        <a href="#" class="btn btn-link btn-block mt-2 hover-grow">View All Activity</a>
                    </div>
                </div>

                <!-- Quick Links Card with Hover Effects -->
                <div class="card mt-4 hover-glow">
                    <div class="card-header">
                        <h5 class="card-title">Quick Links</h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush">
                            <a href="#" class="list-group-item list-group-item-action hover-slide">
                                <i class="fas fa-book mr-2 text-primary"></i> Course Materials
                            </a>
                            <a href="#" class="list-group-item list-group-item-action hover-slide">
                                <i class="fas fa-tasks mr-2 text-success"></i> Assignments
                            </a>
                            <a href="#" class="list-group-item list-group-item-action hover-slide">
                                <i class="fas fa-chart-line mr-2 text-info"></i> Grades
                            </a>
                            <a href="#" class="list-group-item list-group-item-action hover-slide">
                                <i class="fas fa-calendar-alt mr-2 text-warning"></i> Academic Calendar
                            </a>
                            <a href="#" class="list-group-item list-group-item-action hover-slide">
                                <i class="fas fa-question-circle mr-2 text-danger"></i> Help Center
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include your scripts here -->
<script src="{%static 'assets/js/jquery-3.6.0.min.js' %}"></script>
<script src="{%static 'assets/js/popper.min.js' %}"></script>
<script src="{%static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{%static 'assets/plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>
<script src="{%static 'assets/plugins/apexchart/apexcharts.min.js' %}"></script>
<script src="{%static 'assets/plugins/apexchart/chart-data.js' %}"></script>
<script src="{%static 'assets/js/circle-progress.min.js' %}"></script>
<script src="{%static 'assets/js/script.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>

<style>
    /* Custom Styles with Animations */
    :root {
        --primary-color: #4e73df;
        --primary-light: #e3ebf7;
        --warning-color: #f6c23e;
        --warning-light: #fdf3d8;
        --info-color: #36b9cc;
        --info-light: #d6f2f6;
        --success-color: #1cc88a;
        --success-light: #d4edda;
    }
    
    /* Base Animation Styles */
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-3px); }
        75% { transform: translateX(3px); }
    }
    
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-5px); }
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-3px); }
    }
    
    @keyframes glow {
        0%, 100% { box-shadow: 0 0 0 rgba(var(--glow-color), 0); }
        50% { box-shadow: 0 0 10px rgba(var(--glow-color), 0.7); }
    }
    
    @keyframes slideIn {
        from { transform: translateX(-10px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    /* Animation Classes */
    .hover-shake:hover {
        animation: shake 0.5s ease;
    }
    
    .hover-scale {
        transition: transform 0.3s ease;
    }
    
    .hover-scale:hover {
        transform: scale(1.05);
    }
    
    .hover-grow {
        transition: all 0.3s ease;
    }
    
    .hover-grow:hover {
        transform: scale(1.02);
    }
    
    .hover-float:hover {
        animation: float 1.5s ease infinite;
    }
    
    .hover-bounce {
        animation: bounce 2s ease infinite;
    }
    
    .pulse {
        animation: pulse 1.5s infinite;
    }
    
    .hover-pulse:hover {
        animation: pulse 1s infinite;
    }
    
    .hover-slide:hover {
        animation: slideIn 0.3s ease forwards;
    }
    
    .hover-tilt {
        transition: transform 0.3s ease;
    }
    
    .hover-tilt:hover {
        transform: perspective(1000px) rotateX(5deg) rotateY(5deg);
    }
    
    .hover-3d {
        transition: all 0.5s ease;
        transform-style: preserve-3d;
    }
    
    .hover-3d:hover {
        transform: perspective(1000px) rotateY(10deg);
        box-shadow: 0 20px 30px rgba(0,0,0,0.1);
    }
    
    .hover-wave:hover {
        position: relative;
        overflow: hidden;
    }
    
    .hover-wave:hover::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 5px;
        height: 5px;
        background: rgba(255,255,255,0.5);
        opacity: 0;
        border-radius: 100%;
        transform: scale(1, 1) translate(-50%);
        transform-origin: 50% 50%;
        animation: wave 1s ease-out;
    }
    
    @keyframes wave {
        0% { transform: scale(0, 0); opacity: 0.5; }
        100% { transform: scale(20, 20); opacity: 0; }
    }
    
    .hover-glow {
        transition: box-shadow 0.3s ease;
    }
    
    .hover-glow:hover {
        box-shadow: 0 0 15px rgba(78, 115, 223, 0.4);
    }
    
    .hover-color-change:hover {
        color: var(--primary-color);
        transition: color 0.3s ease;
    }
    
    .hover-parallax {
        transition: all 0.3s ease;
    }
    
    .hover-parallax:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }
    
    /* Card Styles */
    .page-header {
        padding: 20px 0;
        margin-bottom: 30px;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .stat-card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
        position: relative;
        background: white;
    }
    
    .stat-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(90deg, var(--primary-color), var(--info-color));
    }
    
    .stat-icon {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
        margin-right: 15px;
        transition: all 0.3s ease;
    }
    
    .stat-title {
        font-size: 14px;
        color: #6c757d;
        margin-bottom: 5px;
        font-weight: 500;
    }
    
    .stat-num {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 0;
        color: #2e3a4d;
    }
    
    .stat-text {
        font-size: 14px;
        color: #6c757d;
    }
    
    .stat-badge {
        font-size: 12px;
        padding: 3px 8px;
        border-radius: 20px;
        font-weight: 600;
    }
    
    .card-floating-icon {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.03);
        color: #6c757d;
        cursor: pointer;
    }
    
    .card-table {
        border: none;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
    }
    
    .card-table:hover {
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    .glow-primary {
        position: relative;
    }
    
    .glow-primary::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, var(--primary-color), transparent);
        animation: glow-line 2s infinite alternate;
    }
    
    @keyframes glow-line {
        0% { opacity: 0.3; }
        100% { opacity: 1; }
    }
    
    /* Responsive adjustments */
    @media (max-width: 767px) {
        .stat-card {
            margin-bottom: 15px;
        }
        
        .stat-icon {
            width: 40px;
            height: 40px;
            font-size: 18px;
        }
        
        .stat-num {
            font-size: 20px;
        }
        
        .hover-3d:hover, .hover-tilt:hover {
            transform: none;
        }
    }
</style>

<script>
    // Initialize animations and effects
    $(document).ready(function() {
        // Counter animation
        $('.counter').counterUp({
            delay: 10,
            time: 1000
        });
        
        // Set the value for the progress circle
        const progressCircle = document.querySelector('.progress-circle');
        const value = parseFloat(progressCircle.getAttribute('data-value'));
        progressCircle.style.setProperty('--value', value);
        
        // Initialize learning progress chart
        var options = {
            series: [{
                name: 'Progress',
                data: [30, 40, 45, 50, 49, 60, 70, 75]
            }],
            chart: {
                height: 350,
                type: 'line',
                zoom: {
                    enabled: false
                },
                toolbar: {
                    show: false
                },
                animations: {
                    enabled: true,
                    easing: 'easeinout',
                    speed: 800,
                    animateGradually: {
                        enabled: true,
                        delay: 150
                    },
                    dynamicAnimation: {
                        enabled: true,
                        speed: 350
                    }
                }
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                curve: 'smooth',
                width: 3,
            },
            colors: ['#4e73df'],
            grid: {
                row: {
                    colors: ['#f3f3f3', 'transparent'],
                    opacity: 0.5
                },
            },
            xaxis: {
                categories: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7', 'Week 8'],
            },
            tooltip: {
                y: {
                    formatter: function (val) {
                        return val + "% completed"
                    }
                }
            }
        };
        
        var chart = new ApexCharts(document.querySelector("#learning-progress-chart"), options);
        chart.render();
        
        // Stagger animations for cards
        $('[data-animation-delay]').each(function() {
            var delay = $(this).data('animation-delay');
            $(this).css('animation-delay', delay + 's');
        });
        
        // Add hover effect to table rows
        $('.table-hover tbody tr').hover(
            function() {
                $(this).css('transform', 'translateX(5px)');
            },
            function() {
                $(this).css('transform', 'translateX(0)');
            }
        );
    });
</script>

{% endblock %}